<ion-header style="box-shadow: none;">
  <ion-toolbar style="--background: linear-gradient(135deg, #ffffff 0%, #FAFBFC 100%); --border-width: 0; border-bottom: 1px solid rgba(74, 144, 226, 0.1);">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tab2" style="--color: #4A90E2;"></ion-back-button>
    </ion-buttons>
    <ion-title style="font-weight: 700; color: #2C3E50;">Edit Profil</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="saveProfile()" style="--color: #4A90E2;">
        <ion-icon slot="icon-only" name="save" style="font-size: 22px;"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" style="--background: linear-gradient(135deg, #f8fbff 0%, #e8f4fd 100%); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
  
  <div style="padding: 20px;">
    
    <div *ngIf="isLoading; else formReady">
      <ion-list style="background: transparent;">
        <ion-item lines="none" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
            <ion-label position="stacked"><ion-skeleton-text animated style="width: 40%; height: 14px; margin-bottom: 10px; --background: #e9f2ff;"></ion-skeleton-text></ion-label>
            <ion-skeleton-text animated style="width: 100%; height: 40px; border-radius: 15px; --background: #e9f2ff;"></ion-skeleton-text>
        </ion-item>
        <ion-item lines="none" style="--background: transparent; --padding-start: 0; --inner-padding-end: 0;">
            <ion-label position="stacked"><ion-skeleton-text animated style="width: 50%; height: 14px; margin-bottom: 10px; --background: #e9f2ff;"></ion-skeleton-text></ion-label>
            <ion-skeleton-text animated style="width: 100%; height: 40px; border-radius: 15px; --background: #e9f2ff;"></ion-skeleton-text>
        </ion-item>
      </ion-list>
    </div>

    <ng-template #formReady>
      <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
        <ion-list style="background: transparent;">
          
          <ion-item lines="none" style="--background: rgba(255, 255, 255, 0.95); --border-radius: 15px; border: 1px solid rgba(74, 144, 226, 0.2); margin-bottom: 20px; box-shadow: 0 4px 16px rgba(74, 144, 226, 0.05); --padding-start: 15px;">
            <ion-label position="stacked" style="font-size: 12px; color: #5A6C7D; margin-bottom: 5px; font-weight: 500;">Nama Lengkap</ion-label>
            <ion-input formControlName="namaLengkap" type="text" placeholder="Masukkan nama lengkap Anda" style="--color: #2C3E50; font-size: 16px;"></ion-input>
          </ion-item>
          
          <ion-item lines="none" style="--background: rgba(255, 255, 255, 0.95); --border-radius: 15px; border: 1px solid rgba(74, 144, 226, 0.2); margin-bottom: 20px; box-shadow: 0 4px 16px rgba(74, 144, 226, 0.05); --padding-start: 15px;">
            <ion-label position="stacked" style="font-size: 12px; color: #5A6C7D; margin-bottom: 5px; font-weight: 500;">Sekolah / Universitas</ion-label>
            <ion-input formControlName="sekolah" type="text" placeholder="Asal sekolah atau universitas" style="--color: #2C3E50; font-size: 16px;"></ion-input>
          </ion-item>

        </ion-list>
        
        <ion-button type="submit" expand="block" [disabled]="profileForm.invalid" style="--background: linear-gradient(135deg, #4A90E2, #6BB6FF); --border-radius: 25px; --box-shadow: 0 4px 16px rgba(74, 144, 226, 0.25); height: 50px; text-transform: none; font-size: 16px; font-weight: 600; margin-top: 20px;">
          Simpan Perubahan
        </ion-button>
      </form>
    </ng-template>
  </div>
</ion-content>