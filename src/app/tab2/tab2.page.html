<ion-content [fullscreen]="true" style="--background: linear-gradient(135deg, #f8fbff 0%, #e8f4fd 100%);">
  <div style="max-width: 420px; margin: 0 auto; background: white; box-shadow: 0 0 30px rgba(74, 144, 226, 0.1); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
    
    <!-- HEADER -->
    <div style="background: linear-gradient(135deg, #ffffff 0%, #FAFBFC 100%); padding: 20px; border-radius: 0 0 30px 30px; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1); border: 1px solid rgba(74, 144, 226, 0.2); position: relative;">
    
  <div style="position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, #4A90E2, #6BB6FF);"></div>
  
  <ng-container *ngIf="userProfile$ | async as profile">

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
      <div style="font-size: 28px; font-weight: 700; background: linear-gradient(135deg, #4A90E2, #6BB6FF); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">Finpress</div>
      <button (click)="openSettings()" style="background: rgba(255, 255, 255, 0.95); border: 1px solid rgba(74, 144, 226, 0.2); padding: 12px; border-radius: 50%; cursor: pointer; font-size: 16px;">âš™ï¸</button>
    </div>
    
    <div style="text-align: center; position: relative;">
    
    <div style="width: 120px; height: 120px; margin: 0 auto 20px; position: relative;">

        <img *ngIf="profile.photoURL" [src]="profile.photoURL" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 4px solid white; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">

        <div *ngIf="!profile.photoURL" style="width: 100%; height: 100%; border-radius: 50%; background: linear-gradient(135deg, #4A90E2, #6BB6FF); display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: bold; color: white;">
            {{ getInitials(profile.namaLengkap) }}
        </div>

        <button (click)="editAvatar()" style="position: absolute; bottom: 5px; right: 5px; background: white; color: #4A90E2; border: 2px solid #4A90E2; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; font-size: 14px; display: flex; align-items: center; justify-content: center; padding: 0; margin: 0; outline: none;">ğŸ“·</button>

    </div>
    <div style="font-size: 26px; font-weight: 700; color: #2C3E50; margin-bottom: 8px;">{{ profile.namaLengkap }}</div>
    <div style="color: #5A6C7D; margin-bottom: 25px; font-size: 14px;">{{ profile.sekolah }}</div>
</div>
  </ng-container> 
</div>

    <!-- MAIN CONTENT -->
    <div style="padding: 30px 20px 120px;">
      
      <!-- Stats Grid -->
      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 30px;">
        <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); padding: 20px 15px; border-radius: 20px; text-align: center; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1); transition: all 0.3s ease;">
          <span style="font-size: 28px; margin-bottom: 12px; display: block;">ğŸ†</span>
          <span style="font-size: 22px; font-weight: 700; color: #4A90E2; margin-bottom: 6px; display: block;">15</span>
          <div style="font-size: 12px; color: #5A6C7D; font-weight: 500;">Program Selesai</div>
        </div>
        
        <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); padding: 20px 15px; border-radius: 20px; text-align: center; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1); transition: all 0.3s ease;">
          <span style="font-size: 28px; margin-bottom: 12px; display: block;">â­</span>
          <span style="font-size: 22px; font-weight: 700; color: #4A90E2; margin-bottom: 6px; display: block;">2,340</span>
          <div style="font-size: 12px; color: #5A6C7D; font-weight: 500;">Total Poin</div>
        </div>
        
        <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); padding: 20px 15px; border-radius: 20px; text-align: center; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1); transition: all 0.3s ease;">
          <span style="font-size: 28px; margin-bottom: 12px; display: block;">ğŸ“ˆ</span>
          <span style="font-size: 22px; font-weight: 700; color: #4A90E2; margin-bottom: 6px; display: block;">89%</span>
          <div style="font-size: 12px; color: #5A6C7D; font-weight: 500;">Tingkat Kelulusan</div>
        </div>
      </div>

      <!-- Wallet Section -->
      <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); border-radius: 25px; margin-bottom: 25px; overflow: hidden; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1);">
        <div style="padding: 25px; background: linear-gradient(135deg, #FAFBFC 0%, #ffffff 100%); border-bottom: 1px solid #E8F4FD;">
          <div style="font-size: 18px; font-weight: 700; color: #2C3E50; display: flex; align-items: center; gap: 12px;">
            <span>ğŸ’°</span>
            <span>Keuangan Saya</span>
          </div>
        </div>
        <div style="padding: 25px;">
          <div style="display: flex; flex-direction: column; gap: 20px;">
            <!-- Saldo Card -->
            <div style="background: linear-gradient(135deg, #4A90E2, #6BB6FF); backdrop-filter: blur(20px); padding: 25px; border-radius: 20px; color: white; position: relative; overflow: hidden; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.25);">
              <div style="font-size: 13px; opacity: 0.9; margin-bottom: 8px; font-weight: 500;">Saldo Sakuma</div>
              <div style="font-size: 28px; font-weight: 700; margin-bottom: 20px;">Rp 0</div>
              <div style="display: flex; gap: 12px;">
                <button style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 10px 18px; border-radius: 20px; font-size: 12px; font-weight: 500; backdrop-filter: blur(10px);">Top Up</button>
                <button style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 10px 18px; border-radius: 20px; font-size: 12px; font-weight: 500; backdrop-filter: blur(10px);">Riwayat</button>
              </div>
            </div>
            
            <!-- Poin Card -->
            <div style="background: linear-gradient(135deg, #fdcb6e, #fab1a0); backdrop-filter: blur(20px); padding: 25px; border-radius: 20px; color: white; position: relative; overflow: hidden; box-shadow: 0 8px 32px rgba(253, 203, 110, 0.25);">
              <div style="font-size: 13px; opacity: 0.9; margin-bottom: 8px; font-weight: 500;">Poin Sakuma</div>
              <div style="font-size: 28px; font-weight: 700; margin-bottom: 20px;">0 Poin</div>
              <div style="display: flex; gap: 12px;">
                <button style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 10px 18px; border-radius: 20px; font-size: 12px; font-weight: 500; backdrop-filter: blur(10px);">Konversi</button>
                <button style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 10px 18px; border-radius: 20px; font-size: 12px; font-weight: 500; backdrop-filter: blur(10px);">Gunakan</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Achievement Section -->
      <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); border-radius: 25px; margin-bottom: 25px; overflow: hidden; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1);">
        <div style="padding: 25px; background: linear-gradient(135deg, #FAFBFC 0%, #ffffff 100%); border-bottom: 1px solid #E8F4FD;">
          <div style="font-size: 18px; font-weight: 700; color: #2C3E50; display: flex; align-items: center; gap: 12px;">
            <span>ğŸ…</span>
            <span>Pencapaian Saya</span>
          </div>
        </div>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 25px;">
          <div style="text-align: center; padding: 20px 15px; border-radius: 15px; background: linear-gradient(135deg, #4A90E2, #6BB6FF); color: white; box-shadow: 0 8px 24px rgba(74, 144, 226, 0.15); border: 2px solid white; transition: all 0.3s ease;">
            <span style="font-size: 28px; margin-bottom: 10px; display: block;">ğŸ¯</span>
            <div style="font-size: 11px; font-weight: 600;">First Step</div>
          </div>
          <div style="text-align: center; padding: 20px 15px; border-radius: 15px; background: linear-gradient(135deg, #4A90E2, #6BB6FF); color: white; box-shadow: 0 8px 24px rgba(74, 144, 226, 0.15); border: 2px solid white; transition: all 0.3s ease;">
            <span style="font-size: 28px; margin-bottom: 10px; display: block;">ğŸ’ª</span>
            <div style="font-size: 11px; font-weight: 600;">Konsisten</div>
          </div>
          <div style="text-align: center; padding: 20px 15px; border-radius: 15px; background: linear-gradient(135deg, #4A90E2, #6BB6FF); color: white; box-shadow: 0 8px 24px rgba(74, 144, 226, 0.15); border: 2px solid white; transition: all 0.3s ease;">
            <span style="font-size: 28px; margin-bottom: 10px; display: block;">ğŸ”¥</span>
            <div style="font-size: 11px; font-weight: 600;">On Fire</div>
          </div>
          <div style="text-align: center; padding: 20px 15px; border-radius: 15px; background: #E8F4FD; transition: all 0.3s ease; border: 2px solid transparent;">
            <span style="font-size: 28px; margin-bottom: 10px; display: block;">ğŸ‘‘</span>
            <div style="font-size: 11px; font-weight: 600;">Champion</div>
          </div>
          <div style="text-align: center; padding: 20px 15px; border-radius: 15px; background: #E8F4FD; transition: all 0.3s ease; border: 2px solid transparent;">
            <span style="font-size: 28px; margin-bottom: 10px; display: block;">ğŸŒŸ</span>
            <div style="font-size: 11px; font-weight: 600;">Star Player</div>
          </div>
          <div style="text-align: center; padding: 20px 15px; border-radius: 15px; background: #E8F4FD; transition: all 0.3s ease; border: 2px solid transparent;">
            <span style="font-size: 28px; margin-bottom: 10px; display: block;">ğŸš€</span>
            <div style="font-size: 11px; font-weight: 600;">Legend</div>
          </div>
        </div>
      </div>

      <!-- Menu Section -->
      <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); border-radius: 25px; margin-bottom: 25px; overflow: hidden; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1);">
        <div style="padding: 25px; background: linear-gradient(135deg, #FAFBFC 0%, #ffffff 100%); border-bottom: 1px solid #E8F4FD;">
          <div style="font-size: 18px; font-weight: 700; color: #2C3E50; display: flex; align-items: center; gap: 12px;">
            <span>ğŸ“±</span>
            <span>Akun & Pengaturan</span>
          </div>
        </div>
        
        <div (click)="editProfile()" style="padding: 20px 25px; border-bottom: 1px solid #E8F4FD; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 18px;">
            <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(74, 144, 226, 0.1); background: linear-gradient(135deg, #4A90E2, #6BB6FF);">ğŸ‘¤</div>
            <div>
              <div style="font-size: 16px; font-weight: 600; color: #2C3E50; margin-bottom: 4px;">Edit Profile</div>
              <div style="font-size: 12px; color: #5A6C7D;">Ubah informasi pribadi</div>
            </div>
          </div>
          <div style="color: #8B9DC3; font-size: 18px;">â€º</div>
        </div>
        
        <div style="padding: 20px 25px; border-bottom: 1px solid #E8F4FD; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 18px;">
            <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(0, 184, 148, 0.1); background: linear-gradient(135deg, #00b894, #00cec9);">ğŸ”’</div>
            <div>
              <div style="font-size: 16px; font-weight: 600; color: #2C3E50; margin-bottom: 4px;">Keamanan</div>
              <div style="font-size: 12px; color: #5A6C7D;">Password & keamanan akun</div>
            </div>
          </div>
          <div style="color: #8B9DC3; font-size: 18px;">â€º</div>
        </div>
        
        <div style="padding: 20px 25px; border-bottom: 1px solid #E8F4FD; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 18px;">
            <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(108, 92, 231, 0.1); background: linear-gradient(135deg, #6c5ce7, #a29bfe);">â“</div>
            <div>
              <div style="font-size: 16px; font-weight: 600; color: #2C3E50; margin-bottom: 4px;">Bantuan</div>
              <div style="font-size: 12px; color: #5A6C7D;">FAQ & customer support</div>
            </div>
          </div>
          <div style="color: #8B9DC3; font-size: 18px;">â€º</div>
        </div>
        
        
      <!-- Aktivitas Terbaru Section -->
      <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); border: 1px solid rgba(74, 144, 226, 0.2); border-radius: 25px; margin-bottom: 25px; overflow: hidden; box-shadow: 0 8px 32px rgba(74, 144, 226, 0.1);">
        <div style="padding: 25px; background: linear-gradient(135deg, #FAFBFC 0%, #ffffff 100%); border-bottom: 1px solid #E8F4FD;">
          <div style="font-size: 18px; font-weight: 700; color: #2C3E50; display: flex; align-items: center; gap: 12px;">
            <span>ğŸ“Š</span>
            <span>Aktivitas Terbaru</span>
          </div>
        </div>
        
        <div (click)="myPrograms()" style="padding: 20px 25px; border-bottom: 1px solid #E8F4FD; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 18px;">
            <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(74, 144, 226, 0.1); background: linear-gradient(135deg, #4A90E2, #6BB6FF);">ğŸ†</div>
            <div>
              <div style="font-size: 16px; font-weight: 600; color: #2C3E50; margin-bottom: 4px;">Program Saya</div>
              <div style="font-size: 12px; color: #5A6C7D;">5 program aktif</div>
            </div>
          </div>
          <div style="color: #8B9DC3; font-size: 18px;">â€º</div>
        </div>
        
        <div (click)="myCampaigns()" style="padding: 20px 25px; border-bottom: 1px solid #E8F4FD; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 18px;">
            <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(253, 203, 110, 0.1); background: linear-gradient(135deg, #fdcb6e, #fab1a0);">ğŸ’°</div>
            <div>
              <div style="font-size: 16px; font-weight: 600; color: #2C3E50; margin-bottom: 4px;">Campaign Saya</div>
              <div style="font-size: 12px; color: #5A6C7D;">2 campaign aktif</div>
            </div>
          </div>
          <div style="color: #8B9DC3; font-size: 18px;">â€º</div>
        </div>
        
        <div style="padding: 20px 25px; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
          <div style="display: flex; align-items: center; gap: 18px;">
            <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(232, 67, 147, 0.1); background: linear-gradient(135deg, #e84393, #fd79a8);">â¤ï¸</div>
            <div>
              <div style="font-size: 16px; font-weight: 600; color: #2C3E50; margin-bottom: 4px;">Item Tersimpan</div>
              <div style="font-size: 12px; color: #5A6C7D;">12 item disimpan</div>
            </div>
          </div>
          <div style="color: #8B9DC3; font-size: 18px;">â€º</div>
        </div>
      </div>
      <div (click)="logout()" style="padding: 20px 25px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: space-between;">
        <div style="display: flex; align-items: center; gap: 18px;">
          <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; color: white; box-shadow: 0 6px 20px rgba(232, 67, 147, 0.1); background: linear-gradient(135deg, #e84393, #fd79a8);">ğŸšª</div>
          <div>
            <div style="font-size: 16px; font-weight: 600; color: #e84393; margin-bottom: 4px;">Keluar</div>
            <div style="font-size: 12px; color: #5A6C7D;">Logout dari akun</div>
          </div>
        </div>
        <div style="color: #e84393; font-size: 18px;">â€º</div>
      </div>
    </div>
    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="goToAddTransactionPage()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
    </div>
  </div>
</ion-content>